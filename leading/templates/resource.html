{% extends 'base.html' %}
{% block javascript %}

{% endblock %}
{% block menuItems %}

{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nv.d3.min.css') }}">
    <script src="{{ url_for('static', filename='script/resource.js') }}"></script>
    <script src="{{ url_for('static', filename='lib/nv.d3.min.js') }}"></script>
    <div ng-controller="contentCtrl" layout="column" ng-cloak flex>
        <div class="totalprogressline" layout-align="end end">
            <md-progress-linear md-mode="determinate" class="md-accent"
                                value="{% raw %}{{ user_info.companyInfo.currentPeriod/0.125 }}{% endraw %}"></md-progress-linear>
        </div>
        <md-content class="md-padding" style="margin-bottom: 50px">
            <div layout="column" flex>
                <div flex layout="row">
                    <div flex>
                        <md-subheader style="background-color: dodgerblue;color: white;">Market Performance</md-subheader>
                      <md-data-table-container>
                          <table md-data-table  md-progress="deferred" >
                            <thead md-order="query.order" md-trigger="onorderchange">
                              <tr>
                                <th class="custom" order-by="query.order" name="Niche"></th>
                                 <th numeric name="Previous"></th>
                                 <th numeric name="Previous Rank #"></th>
                                <th numeric name="Current">
                                <th numeric name="Current Rank #">

                                </th>
                                </th>
                              </tr>

                            </thead>
                            <tbody>
                            <div flex >
                              <tr data-ng-repeat="pandl in marketPerformance_value | orderBy: query.order | limitTo: limit_marketPerformance_value.limit : (query.page -1) * limit_marketPerformance_value.limit" >
                               <!--  md-auto-select md-disable-select="dessert.calories.value > 300" -->
                                  {% raw %} <td>{{pandl.niche}}</td>
                              <!--  <td>
                                  <md-select ng-model="dessert.type" placeholder="Other">
                                    <md-option ng-value="type" ng-repeat="type in getTypes()">{\% raw %}{\{type}}{\% endraw %}</md-option>
                                  </md-select>
                                </td>-->


                                <td>{{pandl.values.Previous}}</td>
                                  <td>{{pandl.values.rankPrevious}}</td>
                                <td>{{pandl.values.Current}}</td>
                                <td>{{pandl.values.rankCurrent}}</td>

                                  {% endraw %}
                              </tr>
                            </div>
                            </tbody>
                          </table>
                        </md-data-table-container>
                    </div>

                    <div flex>
                        <md-subheader style="background-color: dodgerblue;color: white;">Value Created</md-subheader>
                       <md-data-table-container>
                          <table md-data-table  md-progress="deferred" >
                            <thead md-order="query.order" md-trigger="onorderchange">
                              <tr>
                                <th class="custom" order-by="query.order" name="Item"></th>


                                   <th numeric name="Previous"></th>
                                <th numeric name="Current"></th>


                              </tr>
                            </thead>
                            <tbody>
                            <div flex >
                              <tr data-ng-repeat="pandl in great_value | orderBy: query.order | limitTo: limit_great_value.limit : (query.page -1) * limit_great_value.limit" >
                               <!--  md-auto-select md-disable-select="dessert.calories.value > 300" -->
                                  {% raw %} <td>{{pandl.key}}</td>
                              <!--  <td>
                                  <md-select ng-model="dessert.type" placeholder="Other">
                                    <md-option ng-value="type" ng-repeat="type in getTypes()">{\% raw %}{\{type}}{\% endraw %}</md-option>
                                  </md-select>
                                </td>-->

                                <td>{{pandl.Previus}}</td>
                                <td>{{pandl.Current}}</td>


                                  {% endraw %}
                              </tr>
                            </div>
                            </tbody>
                          </table>
                        </md-data-table-container>
                    </div>


                    <div flex>
                          <md-subheader style="background-color: dodgerblue;color: white;">Financial Performance</md-subheader>

                            <md-data-table-container>
                          <table md-data-table  md-progress="deferred" >
                            <thead md-order="query.order" md-trigger="onorderchange">
                              <tr>
                                <th class="custom" order-by="query.order" name=" "></th>


                                 <th numeric name="Previus"></th>
                                  <th numeric name="Rank"></th>
                                <th numeric name="Current"></th>
                                <th numeric name="Rank"></th>

                              </tr>
                            </thead>
                            <tbody>
                            <div flex >
                              <tr data-ng-repeat="pandl in financialPerformance_value | orderBy: query.order | limitTo: limit_financialPerformance_value.limit : (query.page -1) * limit_financialPerformance_value.limit" >
                               <!--  md-auto-select md-disable-select="dessert.calories.value > 300" -->
                                  {% raw %} <td>{{pandl.financialItem}}</td>
                              <!--  <td>
                                  <md-select ng-model="dessert.type" placeholder="Other">
                                    <md-option ng-value="type" ng-repeat="type in getTypes()">{\% raw %}{\{type}}{\% endraw %}</md-option>
                                  </md-select>
                                </td>-->

                                <td>{{pandl.values.Previous}}</td>
                                <td>{{pandl.values.rankPrevious}}</td>
                                <td>{{pandl.values.Current}}</td>
                               <td>{{pandl.values.rankCurrent}}</td>
                                  {% endraw %}
                              </tr>
                            </div>
                            </tbody>
                          </table>
                        </md-data-table-container>
                    </div>

                    <md-divider></md-divider>


                </div>
                <div flex layout="column" layout-fill>

                   <div flex>
                        <md-subheader style="background-color: dodgerblue;color: white;">Management Performance</md-subheader>
                       <md-data-table-container>
                          <table md-data-table  md-progress="deferred" >
                            <thead md-order="query.query_mp" md-trigger="onorderchange">
                            <tr>
                                <th class="custom" order-by="query.query_mp" name="Function"></th>
                                   <th numeric name="P: Competence"></th>
                                  <th numeric name="P:Rank"></th>
                               <th numeric name="C:Competence"></th>
                                  <th numeric name="C: Rank"></th>
                                           <th numeric name="P: Stress"></th>
                                  <th numeric name="P:Rank"></th>
                               <th numeric name="C:Stress"></th>
                                  <th numeric name="C: Rank"></th>
                                            <th numeric name="P: Adaptability"></th>
                                  <th numeric name="P:Rank"></th>
                               <th numeric name="C:Adaptability"></th>
                                  <th numeric name="C: Rank"></th>
                              </tr>
                            </thead>
                            <tbody>
                            <div flex >
                              <tr data-ng-repeat="pandl in managementPerformance_value | orderBy: query_mp.order | limitTo: limit_managementPerformance_value.limit : (query_mp.page -1) * limit_managementPerformance_value.limit" >
                               <!--  md-auto-select md-disable-select="dessert.calories.value > 300" -->
                                  {% raw %}
                                  <td>{{pandl.function}}</td>
                              <!--  <td>
                                  <md-select ng-model="dessert.type" placeholder="Other">
                                    <md-option ng-value="type" ng-repeat="type in getTypes()">{\% raw %}{\{type}}{\% endraw %}</md-option>
                                  </md-select>
                                </td>-->

                                <td>{{pandl.values.competenceIndexPrevious}}</td>
                                  <td>{{pandl.values.competenceIndexRankPrevious}}</td>
                                    <td>{{pandl.values.competenceIndexCurrent}}</td>
                                  <td>{{pandl.values.competenceIndexRankCurrent}}</td>

                                 <td>{{pandl.values.stressIndexPrevious}}</td>
                                  <td>{{pandl.values.stressIndexRankPrevious}}</td>
                                    <td>{{pandl.values.stressIndexCurrent}}</td>
                                  <td>{{pandl.values.stressIndexRankCurrent}}</td>

                                 <td>{{pandl.values.adaptabilityIndexPrevious}}</td>
                                  <td>{{pandl.values.adaptabilityIndexRankPrevious}}</td>
                                    <td>{{pandl.values.adaptabilityIndexCurrent}}</td>
                                  <td>{{pandl.values.adaptabilityIndexRankCurrent}}</td>
                                  {% endraw %}
                              </tr>
                            </div>
                            </tbody>
                          </table>
                        </md-data-table-container>
                    </div>
                    <md-divider></md-divider>

                </div>

            </div>

        </md-content>

        <md-toolbar class="md-accent" style="position:absolute;bottom: 0;" flex>
            <div class="md-toolbar-tools " layout="row" layout-align="space-between end">
                <div flex="50">
                    <p>{% raw %}{{ user_info.companyInfo.companyName }} {{ user_info.companyInfo.userrole }}{% endraw %}
                        - {% raw %}{{ user_info.companyInfo.teamName }}{% endraw %}
                        - Period {% raw %}{{user_info.companyInfo.currentPeriod}}{% endraw %}</p>
                </div>
                <div layout="row" flex="60">

                </div>
            </div>
        </md-toolbar>

    </div>




{% endblock %}