{% extends "base.html" %}
{% block jacascript %}
    <link type="text/css" href="{{ url_for('static', filename='css/datatables.min.css') }}" rel="stylesheet">

    <script src="{{ url_for('static', filename='lib/datatables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='script/ipxcontrolpanel.js') }}"></script>
{% endblock %}

{% block lefttopMenu %}
    <div ng-controller="lefttopMenuCtrl" layout="row" flex>
        <div>
            <md-button ng-click="backtomap()"
                       class="md-icon-button" layout-align="center center">
                <md-icon aria-label="Menu"
                         md-svg-icon="{{ url_for('static', filename='icon/ic_arrow_back_white_48px.svg') }}"></md-icon>
            </md-button>
        </div>
        <div flex="10">
            <md-button ng-click="toggleSidenav('left')" class="md-icon-button" layout-align="center end"
                       ng-if="current_user.permission=='0' || current_user.permission=='1'">
                <md-icon aria-label="Menu"
                         md-svg-icon="{{ url_for('static', filename='icon/ic_menu_white_48px.svg') }}"></md-icon>
            </md-button>
        </div>
        <div layout="column" flex>
            <div style="font-size:16px;margin-top:1%;">
                <span ng-bind="device.deviceName"></span> @ <span ng-bind="device.IPAddress"></span> Port # <span
                    ng-bind="currentPort "></span>
            </div>
            <div style="font-size:16px;">
                <span ng-bind="device.location.address.streetNo"> </span> <span
                    ng-bind="device.location.address.street"></span>, <span
                    ng-bind="device.location.address.city"></span>, <span
                    ng-bind="device.location.address.province">  </span>
            </div>
        </div>
    </div>

{% endblock %}


{% block content %}


    <div ng-controller="contentCtrl" layout="column">
        <div ng-controller="SideNavCtrl" layout="column">
            <section layout="row" flex>
                <md-sidenav class="md-sidenav-left " md-component-id="left">
                    <md-toolbar class="md-theme-indigo" md-sidenav-focus>
                        <h1 class="md-toolbar-tools">Current Port: #{% raw %}{{ currentPort}}{% endraw %}</h1>
                    </md-toolbar>
                    <md-content layout-padding>

                        <md-list-item class="md-2-line" ng-repeat="item in items" ng-click="switchPort($index+1)">
                            <img ng-src="{{ url_for('static', filename='icon/ic_developer_board_black_24px.svg') }}"
                                 class="md-avatar" alt="Port"/>
                            <div class="md-list-item-text">
                                <h3>PORT #{% raw %}{{ item.portID }}{% endraw %}</h3>

                                <p>R:{% raw %}{{ item.data.ipxPortBandwidthStatusRxRate}}{% endraw %}Mb/s T:{% raw %}{{
                                    item.data.ipxPortBandwidthStatusTxRate}}{% endraw %}Mb/s</p>
                            </div>
                            <div ng-if="$index+1 == currentPort">
                                <md-divider></md-divider>
                            </div>
                        </md-list-item>


                    </md-content>
                </md-sidenav>


                <md-sidenav class="md-sidenav-right" md-component-id="right">
                    <md-toolbar class="md-theme-light">
                        <h1 class="md-toolbar-tools">Status</h1>
                    </md-toolbar>
                    <md-content layout-padding>
                        <h3>PORT</h3>
                    </md-content>

                </md-sidenav>
            </section>


        </div>
        <div layout="column" layout-wrap layout-fill style="margin-top: 60px">

            <div layout="row">
                <div layout-fill flex>
                    <div id="ReceivedRate"></div>
                </div>
                <div layout-fill flex>
                    <div id="TransmittedRate"></div>
                </div>
            </div>
            <div id="MiniGraph" flex></div>
        </div>

        <div layout="row" layout-wrap layout-fill flex layout-padding>
            <div layout-fill flex>
                <div id='MutilcastFormFrom'>
                    <table id="MutilcastFrom" class="display compact"></table>
                </div>
            </div>
            <div layout-fill flex>
                <div id='MutilcastFormTo'>
                    <table id="MutilcastTo" class="display compact"></table>
                </div>
            </div>
        </div>
    </div>


{% endblock %}


